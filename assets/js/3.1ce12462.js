(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{272:function(e,l,a){e.exports=a.p+"assets/img/image.3b681456.png"},273:function(e,l,a){e.exports=a.p+"assets/img/image-1.33e30da3.png"},274:function(e,l,a){e.exports=a.p+"assets/img/image-2.a5b0baf0.png"},275:function(e,l,a){e.exports=a.p+"assets/img/image-3.b2ae075a.png"},276:function(e,l,a){e.exports=a.p+"assets/img/image-4.fdf7cad3.png"},277:function(e,l,a){e.exports=a.p+"assets/img/image-5.452025a4.png"},278:function(e,l,a){e.exports=a.p+"assets/img/image-6.bada7074.png"},279:function(e,l,a){e.exports=a.p+"assets/img/image-7.e58642a6.png"},280:function(e,l,a){e.exports=a.p+"assets/img/image-8.9ef18a47.png"},318:function(e,l,a){"use strict";a.r(l);var t=a(13),s=Object(t.a)({},(function(){var e=this,l=e._self._c;return l("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[l("h3",{attrs:{id:"加载和处理其他资源"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#加载和处理其他资源"}},[e._v("#")]),e._v(" 加载和处理其他资源")]),e._v(" "),l("hr"),e._v(" "),l("h4",{attrs:{id:"一、常见loader"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#一、常见loader"}},[e._v("#")]),e._v(" 一、常见loader")]),e._v(" "),l("ol",[l("li",[e._v("file-loader")])]),e._v(" "),l("ul",[l("li",[l("p",[e._v("要处理jpg、png等格式的图片，我们也需要有对应的loader：file-loader")]),e._v(" "),l("ul",[l("li",[e._v("file-loader的作用就是帮助我们处理import/require方式引入一个文件资源，并且将它放到我们输出的文件夹中")]),e._v(" "),l("li",[e._v("当然我们待会儿可以学习如何修改它的名字和所在文件夹")])]),e._v(" "),l("div",{staticClass:"language- line-numbers-mode"},[l("pre",{pre:!0,attrs:{class:"language-text"}},[l("code",[e._v("file-loader 5.0之前直接require后需要加.default\nwebpack5已经不需要file-laoder了\n")])]),e._v(" "),l("div",{staticClass:"line-numbers-wrapper"},[l("span",{staticClass:"line-number"},[e._v("1")]),l("br"),l("span",{staticClass:"line-number"},[e._v("2")]),l("br")])])]),e._v(" "),l("li",[l("p",[e._v("文件的名称规则")]),e._v(" "),l("ul",[l("li",[e._v("有时候我们处理后的文件名称按照一定的规则进行显示：\n"),l("ul",[l("li",[e._v("比如保留原来的文件名、扩展名，同时为了防止重复，包含一个hash值等；")])])]),e._v(" "),l("li",[e._v("这个时候我们可以使用PlaceHolders来完成，webpack给我们提供了大量的PlaceHolders来显示不同的内容：\n"),l("ul",[l("li",[e._v("https://webpack.js.org/loaders/file-loader/#placeholders")]),e._v(" "),l("li",[e._v("我们可以在文档中查阅自己需要的placeholder；")])])]),e._v(" "),l("li",[e._v("我们这里介绍几个最常用的placeholder：\n"),l("ul",[l("li",[l("code",[e._v("[ext]")]),e._v("： 处理文件的扩展名；")]),e._v(" "),l("li",[l("code",[e._v("[name]")]),e._v("：处理文件的名称；")]),e._v(" "),l("li",[l("code",[e._v("[hash]")]),e._v("：文件的内容，使用MD4的散列函数处理，生成的一个128位的hash值（32个十六进制）；")]),e._v(" "),l("li",[l("code",[e._v("[contentHash]")]),e._v("：在file-loader中和"),l("code",[e._v("[hash]")]),e._v("结果是一致的（在webpack的一些其他地方不一样，后面会讲到）；")]),e._v(" "),l("li",[l("code",[e._v("[hash:<length>]")]),e._v("：截图hash的长度，默认32个字符太长了；")]),e._v(" "),l("li",[l("code",[e._v("[path]")]),e._v("：文件相对于webpack配置文件的路径；\n"),l("img",{attrs:{src:a(272),alt:"Alt text"}}),e._v(";\n"),l("img",{attrs:{src:a(273),alt:"Alt text"}}),e._v(";")])])])])])]),e._v(" "),l("ol",{attrs:{start:"2"}},[l("li",[e._v("url-loader")])]),e._v(" "),l("ul",[l("li",[e._v("url-loader和file-loader的工作方式是相似的，但是可以将较小的文件，转成base64的URI\n"),l("img",{attrs:{src:a(274),alt:"Alt text"}}),e._v(";")]),e._v(" "),l("li",[e._v("我们现在在dist文件中，就看不到图片文件了")])]),e._v(" "),l("ul",[l("li",[e._v("默认情况下url-loader会将所有的图片转成base64编码")])]),e._v(" "),l("ul",[l("li",[e._v("但开发中我嗯往往是小的图片需要转换，但是大的图片直接使用图片即可")])]),e._v(" "),l("ul",[l("li",[e._v("这是因为小的图片转换base64之后可以和页面一起被请求，减少不必要的请求过程")]),e._v(" "),l("li",[e._v("而大的图片也进行转换，反而会影响页面的请求速度\n"),l("img",{attrs:{src:a(275),alt:"Alt text"}}),e._v(";")])]),e._v(" "),l("ol",{attrs:{start:"3"}},[l("li",[e._v("asset module type 的介绍（webpack5）")])]),e._v(" "),l("ul",[l("li",[e._v("如果当前的webpack版本是webopck5\n"),l("ul",[l("li",[e._v("在webpack5之前，加载这些资源我们需要使用一些loader，比如raw-loader、url-loader、file-loader")]),e._v(" "),l("li",[e._v("在webpack5之后，我们可以直接使用资源模块类型（asset moudule type），来替代上面这些loader")])])]),e._v(" "),l("li",[e._v("资源模块类型（asset module type），通过添加4种新的模块类型，来替换所有这些loader\n"),l("ul",[l("li",[e._v("asset/resource发送一个单独的文件并导出URL。之前通过使用file-loader实现")]),e._v(" "),l("li",[e._v("asset/inline导出一个资源的data URI。之前通过url-loader实现")]),e._v(" "),l("li",[e._v("asset/source导出资源的源代码。之前通过使用raw-loader实现")]),e._v(" "),l("li",[e._v("asset在导出一个data URI和发送一个单独的文件之间自动选择。之前通过使用url-loader，并且配置资源体积限制实现")])])]),e._v(" "),l("li",[e._v("比如加载图片，我们可以使用下面的方式\n"),l("img",{attrs:{src:a(276),alt:"Alt text"}}),e._v(";")]),e._v(" "),l("li",[e._v("但是，如何可以自定义文件输出路径和文件名呢？\n"),l("ul",[l("li",[e._v("方式一：修改output，添加assetModuleFilename属性")]),e._v(" "),l("li",[e._v("方式二：在Rule，添加一个generator属性，并且设置filename\n"),l("img",{attrs:{src:a(277),alt:"Alt text"}}),e._v(";\n"),l("img",{attrs:{src:a(278),alt:"Alt text"}}),e._v(";")])])])]),e._v(" "),l("ol",{attrs:{start:"4"}},[l("li",[e._v("加载字体文件")])]),e._v(" "),l("ul",[l("li",[e._v("如果我们需要使用某些特殊的字体或者字体图标，那么我们会引入很多字体相关的文件，这些文件的处理也是一样的")]),e._v(" "),l("li",[e._v("以iconfont为例子\n"),l("img",{attrs:{src:a(279),alt:"Alt text"}}),e._v(";")]),e._v(" "),l("li",[e._v("我们可以通过file-loader来处理，也可以直接选择使用webpack5的资源模块类型来处理\n"),l("img",{attrs:{src:a(280),alt:"Alt text"}}),e._v(";")])])])}),[],!1,null,null,null);l.default=s.exports}}]);